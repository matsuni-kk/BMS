# ビジネスタスク管理システム

ビジネスタスク管理システム

# システムプロンプト

## 共通ルール
- 日本語で応対
- 「D:\BMS」直下にフォルダを作るときは必ずai_agent_ruleファイルを作成
- 依頼するほとんどのタスクはコーディングとは関係ないことを考慮
- powershellでは「&&」を使用しない
- 絶対に生成時に省略行為は行わない
- すべてのタスク実行時にlog/ai_agent_ruleに従って作業ログを記録する

### tasklist.tsv管理

#### 記録項目
- タスクID（BT-XXX形式）
- タスク名
- 起票日時
- 最終更新日時
- ステータス（新規/準備中/進行中/完了）
- 優先度（高/中/低）
- 期限
- 関連ファイル（カンマ区切りでパスを記載）
   - 関連するdaily内task_nameフォルダパス
   - 関連するinputフォルダパス
   - 関連するoutputフォルダパス
- 進捗率（0-100%）
- 備考

#### 更新ルール
1. 新規タスク起票時
   - 新規レコードの追加
   - 必須項目の記入

2. インプットデータ受領時
   - 関連ファイル欄にインプットファイルパスを追加
   - 最終更新日時の更新

3. 進捗更新時
   - 最終更新日時の更新
   - 進捗率の更新
   - 状態変更がある場合はステータスも更新

4. 成果物作成時
   - 関連ファイル欄に成果物ファイルパスを追加
   - 最終更新日時の更新

5. 完了時
   - すべての項目の最終確認
   - ステータスを「完了」に変更
   - 進捗率を100%に設定

### ディレクトリ構造
```
business_tasks_workspace/
├── tasklist.tsv           # タスク一覧・進捗管理
├── input/                 # 初期インプットデータ置き場
├── daily/                 # 日次タスク
│   └── YYYYMMDD/         # 日付ごとのフォルダ
│       └── task_name/    # タスク別フォルダ
│           ├── input/    # 移動済みインプットデータ
│           ├── output/   # タスク成果物
│           └── task_detail.md
├── monthly/              # 月次タスク（daily同様の構造）
├── projects/             # プロジェクト単位のタスク
│   └── project_name/    # プロジェクト別フォルダ
│       ├── project_detail.md  # プロジェクト詳細
│       ├── input/      # プロジェクトの入力データ
│       ├── output/     # プロジェクトの成果物
│       └── archive/    # プロジェクトのアーカイブ
│           ├── documents/  # ドキュメント類
│           │   ├── specifications/  # 仕様書
│           │   ├── reports/         # レポート
│           │   ├── presentations/   # プレゼン資料
│           │   ├── manuals/         # マニュアル
│           │   └── images/          # 画像ファイル（スクリーンショット、図表、写真等）
│           ├── data/      # データファイル
│           │   ├── raw/             # 生データ
│           │   ├── processed/       # 加工済みデータ
│           │   ├── analysis/        # 分析データ
│           │   └── backups/         # バックアップ
│           └── other/     # その他のファイル
│               ├── templates/       # テンプレート
│               ├── references/      # 参考資料
│               ├── tools/           # ツール類
│               └── misc/            # 雑多なファイル
├── playground/          # 人間とAIの協業作業スペース
└── archive/             # 完了タスクのアーカイブ
```

### log/ - タスクログ管理
タスクの進捗管理と記録のためのディレクトリ

#### ディレクトリ構造
```
BMS/log/
├── README.md
└── YYYYMMDD/
    ├── task_description.md
    └── progress.md
```

#### 使用方法
1. 新規タスク開始時：YYYYMMDDフォーマットでフォルダを作成
2. 各タスクフォルダには以下を含める：
   - task_description.md：タスクの詳細説明
   - progress.md：進捗状況の記録

### task_detail.mdテンプレート

#### 基本情報
- タスクID（tasklist.tsvと同一のID）
- タスク名
- 担当者
- 開始日時
- 期限
- 優先度
- ステータス
- タスク種別（定例/プロジェクト/その他）

#### 詳細情報
- タスク概要
- 目的
- 必要なインプットデータ
- 期待される成果物
- 前提条件
- 制約事項

#### 利用ファイル情報
##### インプットファイル
```
input/
├── [ファイル名1]
│   └── 用途：[このファイルの使用目的]
├── [ファイル名2]
│   └── 用途：[このファイルの使用目的]
└── [関連ディレクトリ名]/
    └── 用途：[このディレクトリの使用目的]
```

##### 出力ファイル
```
output/
├── [ファイル名1]
│   └── 内容：[この成果物の説明]
├── [ファイル名2]
│   └── 内容：[この成果物の説明]
└── [関連ディレクトリ名]/
    └── 内容：[このディレクトリの成果物の説明]
```

#### 参照ファイル
- 参照ファイル1
  - パス：[ファイルパス]
  - 用途：[このファイルの参照目的]
- 参照ファイル2
  - パス：[ファイルパス]
  - 用途：[このファイルの参照目的]

#### 進捗管理
- 現在の状態
- 残作業
- リスク
- 課題

### レポーティング

#### 日次レポート
- タスク完了状況（tasklist.tsvから集計）
- 進行中タスクの状態
- 問題点と対応状況

#### 週次レポート
- 週間サマリー（tasklist.tsvから期間集計）
- 主要な成果
- 次週の計画

#### 月次レポート
- 月間達成状況（tasklist.tsvから月次集計）
- 改善点の特定
- 次月の戦略

### 注意事項

#### 一般的な注意点
- task_detail.mdは所定のテンプレートを使用
- 進捗状況は随時tasklist.tsvに反映
- 問題発生時は速やかに報告
- 定期的なバックアップを実施

#### プロンプト使用
- /prompts/minute_prompt.mdを参照
- /prompts/project_overview-prompt.mdを参照

#### フォルダ管理
- 日次タスクの記録について
  - 日次タスクは必ず日付（YYYYMMDD）フォルダで管理
  - 日付フォルダが存在しない場合は新規作成
  - 日付フォルダは必ずtask_nameフォルダを作成
  - タスクフォルダには必ずinput/とoutput/を作成
  - インプットデータは必ずinput/ディレクトリに配置
  - 成果物は必ずoutput/ディレクトリに配置

   
- 月次タスクの記録について
  - 基本的には日次フォルダ（daily）に記録
  - 日時タスクを月に一度集約するときに利用
  - 月次タスクはmonthlyフォルダで管理
  - monthlyフォルダは以下の構造で管理：
  - monthly_detail.mdには対象月のdailyタスクすべてを参照し、
    月単位での進捗、成果、課題を記録

- プロジェクト管理について
  - プロジェクトごとに固有の名前でフォルダを作成
  - 各プロジェクトフォルダは以下の構造で管理：

  - 各プロジェクトフォルダには以下を作成：
    - project_detail.md：プロジェクトの詳細情報
    - input/：プロジェクトの入力データ
    - output/：プロジェクトの成果物
  - アーカイブファイルの命名規則：
    - 基本形式：プロジェクト名_アーカイブ_種類名_ファイル名
    - 例：company_ai_promotion_archive_documents_reports_weekly_report_20250120.pdf
  - アーカイブの分類と保管：
    - documents/：文書関連ファイル（仕様書、報告書、プレゼン資料等）
    - data/：データファイル（生データ、加工データ、分析結果等）
    - other/：その他のファイル（テンプレート、参考資料等）

    
- playground環境について
  - 人間とAIが協業して一時的にファイルを編集する作業スペース
  - 作業完了後は適切なフォルダ（daily/monthly/projects）に移動
  - 一時的な実験や検証にも使用可能

## テスト駆動処理
- 必ずタスクはテストドリブンで処理を行う
- タスクに合わせた詳細なテスト項目を事前に作成
- テスト用に別途ファイルを作成
- テスト粒度は細かく設定し、クリアするまで自動で反復

### テスト管理

#### test_cases.mdテンプレート
```markdown
## テストケース[ID]

### テスト目的
[具体的な検証内容]

### 前提条件
- 条件1
- 条件2

### テスト手順
1. 手順1
2. 手順2

### 期待される結果
- 結果1
- 結果2

### 実際の結果
[ ] 結果1の確認
[ ] 結果2の確認

### 合否判定基準
- 判定基準1
- 判定基準2
```

### 自動テストループ

1. テスト実行の自動化
   - すべてのテストケースが満たされるまで反復
   - 各反復での結果記録
   - 改善点の特定と修正

2. テスト結果の管理
   - 合格/不合格の記録
   - 問題点の文書化
   - 改善履歴の保持

3. 終了条件
   - すべてのテストケースの合格
   - または明示的な中止条件の達成

## ワークフロー

重要：必ず各ディレクトリのai_agent_ruleを参照し、ワークフローを把握すること:
  workflow:
    information: |
      ビジネス関連タスクの実行ワークフロー：
      タスク開始時のワークフローです
    timing: |
      1. ユーザーがタスク依頼を実施したときに実施します
    steps:
      1. `workflow/common_workflow.md`を参照する
      2. `workflow/common_workflow.md`に沿って処理を実施する
      3. ユーザーに処理内容を報告する

    information: |
      ビジネス関連タスクの実行ワークフロー：
      `workflow/common_workflow.md`処理完了後に実際にタスクを行う際のワークフローです
    timing: |
      1. `workflow/common_workflow.md`処理完了後にユーザーの返信を確認次第実施
    steps:
      1. `workflow/common_workflow.md`処理完了後にユーザーに使用するWFを確認する
      2. 指定がない場合は`standard_workflow.md`に沿って処理を実施する
      3. 処理完了後、ユーザーに処理内容を報告する

## 開発環境

- Node.js v20.12.2
- npm 10.5.0
- pnpm 9.15.4

## メンテナンス

各セクションのドキュメントは定期的に更新され、最新のプロセスとベストプラクティスを反映しています。更新や改善の提案は、issueまたはプルリクエストを通じて行ってください。

最終更新日: 2025/1/18