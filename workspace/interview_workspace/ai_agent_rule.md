# Interview Workspace Rules

インタビューワークスペース

# システムプロンプト

## 共通ルール
- 日本語で応対
- 「D:\Interview」直下にフォルダを作るときは必ずai_agent_ruleファイルを作成
- 依頼するほとんどのタスクはコーディングとは関係ないことを考慮
- powershellでは「&&」を使用しない
- 絶対に生成時に省略行為は行わない
- すべてのタスク実行時にlog/ai_agent_ruleに従って作業ログを記録する

### ディレクトリ構造

```
interview_workspace/
├── daily/                 # 日次のインタビュータスク
│   └── YYYYMMDD/         # 日付ごとのフォルダ
│       └── task_name/    # タスク別フォルダ
│           ├── input/    # 移動済みインプットデータ
│           ├── output/   # タスク成果物
│           └── task_detail.md
├── monthly/              # 月次のインタビュー集計・分析
├── projects/             # インタビュープロジェクト管理
│   └── project_name/    # プロジェクト別フォルダ
│       ├── project_detail.md  # プロジェクト詳細
│       ├── input/      # プロジェクトの入力データ
│       ├── output/     # プロジェクトの成果物
│       └── archive/    # プロジェクトのアーカイブ
│           ├── documents/  # ドキュメント類
│           │   ├── specifications/  # 仕様書
│           │   ├── reports/         # レポート
│           │   ├── presentations/   # プレゼン資料
│           │   ├── manuals/         # マニュアル
│           │   └── images/          # 画像ファイル（スクリーンショット、図表、写真等）
│           ├── data/      # データファイル
│           │   ├── raw/             # 生データ
│           │   ├── processed/       # 加工済みデータ
│           │   ├── analysis/        # 分析データ
│           │   └── backups/         # バックアップ
│           └── other/     # その他のファイル
│               ├── templates/       # テンプレート
│               ├── references/      # 参考資料
│               ├── tools/           # ツール類
│               └── misc/            # 雑多なファイル
├── input/                 # インタビュー関連の入力データ
├── output/                # インタビュー結果・分析結果
├── archive/             # 完了したインタビュープロジェクト
├── log/                   # 作業ログ
├── workflow/              # 作業手順書
├── prompts/               # インタビュー用プロンプト
└── tasks/                 # タスク管理
```

### log/ - タスクログ管理
タスクの進捗管理と記録のためのディレクトリ

#### ディレクトリ構造
```
interview_workspace/log/
├── README.md
└── YYYYMMDD/
    ├── task_description.md
    └── progress.md
```

#### 使用方法
1. 新規タスク開始時：YYYYMMDDフォーマットでフォルダを作成
2. 各タスクフォルダには以下を含める：
   - task_description.md：タスクの詳細説明
   - progress.md：進捗状況の記録

### task_detail.mdテンプレート

#### 基本情報
- タスクID（tasks/tasklist.tsvと同一のID）
- タスク名
- 担当者
- 開始日時
- 期限
- 優先度
- ステータス
- タスク種別（インタビュー準備/インタビュー実施/インタビュー分析/その他）

#### 詳細情報
- タスク概要
- 目的
- 必要なインプットデータ
  - インタビュー対象者情報
  - インタビューガイド
  - 評価シート
- 期待される成果物
  - インタビュー記録
  - インタビュー分析レポート
  - 評価結果
- 前提条件
- 制約事項

#### 利用ファイル情報
##### インプットファイル
```
input/
├── [ファイル名1]
│   └── 用途：[このファイルの使用目的]
│       └── 例：[インタビュー対象者リスト]
├── [ファイル名2]
│   └── 用途：[このファイルの使用目的]
│       └── 例：[インタビューガイド]
└── [関連ディレクトリ名]/
    └── 用途：[このディレクトリの使用目的]
        └── 例：[過去のインタビューデータ]
```

##### 出力ファイル
```
output/
├── [ファイル名1]
│   └── 内容：[この成果物の説明]
│       └── 例：[インタビュー記録_YYYYMMDD.txt]
├── [ファイル名2]
│   └── 内容：[この成果物の説明]
│       └── 例：[インタビュー分析レポート_YYYYMMDD.pdf]
└── [関連ディレクトリ名]/
    └── 内容：[このディレクトリの成果物の説明]
        └── 例：[評価結果_YYYYMMDD]
```

#### 参照ファイル
- 参照ファイル1
  - パス：[ファイルパス]
  - 用途：[このファイルの参照目的]
  - 例：[workflow/interview_workflow.md]
- 参照ファイル2
  - パス：[ファイルパス]
  - 用途：[このファイルの参照目的]
  - 例：[prompts/interview_prompt.md]

#### 進捗管理
- 現在の状態
- 残作業
- リスク
- 課題

### レポーティング

#### 日次レポート
- インタビュー実施状況（tasks/tasklist.tsvから集計）
- 進行中タスクの状態
- 問題点と対応状況

#### 月次レポート
- 週間サマリー（tasks/tasklist.tsvから期間集計）
- 主要な成果
  - 月間インタビュー実施件数
  - インタビューからの主なインサイト
- 次週の計画
  - 来月のインタビュー計画

#### 月次レポート
- 月間達成状況（tasks/tasklist.tsvから月次集計）
- 改善点の特定
  - インタビュープロセスの改善点
  - 評価方法の見直し
- 次月の戦略
  - 次月のインタビュー戦略

### 注意事項

#### 一般的な注意点
- task_detail.mdは所定のテンプレートを使用
- 進捗状況は随時tasks/tasklist.tsvに反映
- 問題発生時は速やかに報告
- 定期的なバックアップを実施

#### プロンプト使用
- /prompts/interview_prompt.mdを参照

#### フォルダ管理
- 日次インタビュータスクの記録について
  - 日次インタビュータスクは必ず日付（YYYYMMDD）フォルダで管理
  - 日付フォルダが存在しない場合は新規作成
  - 日付フォルダは必ずtask_nameフォルダを作成
  - タスクフォルダには必ずinput/とoutput/を作成
  - インプットデータは必ずinput/ディレクトリに配置
  - 成果物は必ずoutput/ディレクトリに配置

- 月次インタビュータスクの記録について
  - 基本的には日次フォルダ（daily）に記録
  - 日時タスクを月に一度集約するときに利用
  - 月次タスクはmonthlyフォルダで管理
  - monthlyフォルダは以下の構造で管理：
  - monthly_detail.mdには対象月のdailyタスクすべてを参照し、
    月単位での進捗、成果、課題を記録

- プロジェクト管理について
  - プロジェクトごとに固有の名前でフォルダを作成
  - 各プロジェクトフォルダは以下の構造で管理：

  - 各プロジェクトフォルダには以下を作成：
    - project_detail.md：プロジェクトの詳細情報
    - input/：プロジェクトの入力データ
    - output/：プロジェクトの成果物
  - アーカイブファイルの命名規則：
    - 基本形式：プロジェクト名_アーカイブ_種類名_ファイル名
    - 例：project_name_archive_documents_reports_weekly_report_20250120.pdf
  - アーカイブの分類と保管：
    - documents/：文書関連ファイル（仕様書、報告書、プレゼン資料等）
    - data/：データファイル（インタビューデータ、分析データ等）
    - other/：その他のファイル（テンプレート、参考資料等）


- playground環境について
  - 人間とAIが協業して一時的にファイルを編集する作業スペース
  - 作業完了後は適切なフォルダ（daily/monthly/projects）に移動
  - 一時的な実験や検証にも使用可能

## テスト駆動処理
- 必ずタスクはテストドリブンで処理を行う
- タスクに合わせた詳細なテスト項目を事前に作成
- テスト用に別途ファイルを作成
- テスト粒度は細かく設定し、クリアするまで自動で反復

### テスト管理

#### test_cases.mdテンプレート
```markdown
## テストケース[ID]

### テスト目的
[具体的な検証内容]
例：インタビューガイドの質問が適切か検証する

### 前提条件
- 条件1
- 条件2
例：インタビュー対象者の属性

### テスト手順
1. 手順1
2. 手順2
例：模擬インタビューを実施する

### 期待される結果
- 結果1
- 結果2
例：
- [ ] インタビューガイドの質問がすべて回答可能であること
- [ ] インタビュー時間が予定時間内に収まること

### 実際の結果
[ ] 結果1の確認
[ ] 結果2の確認

### 合否判定基準
- 判定基準1
- 判定基準2
例：
- 質問への回答率が90%以上
- インタビュー時間が60分以内
```

### 自動テストループ

1. テスト実行の自動化
   - すべてのテストケースが満たされるまで反復
   - 各反復での結果記録
   - 改善点の特定と修正

2. テスト結果の管理
   - 合格/不合格の記録
   - 問題点の文書化
   - 改善履歴の保持

3. 終了条件
   - すべてのテストケースの合格
   - または明示的な中止条件の達成

## ワークフロー

重要：必ず各ディレクトリのai_agent_ruleを参照し、ワークフローを把握すること:
  workflow:
    information: |
      インタビュー関連タスクの実行ワークフロー：
      タスク開始時のワークフローです
    timing: |
      1. ユーザーがタスク依頼を実施したときに実施します
    actions:
      1. `workflow/common_workflow.md`を参照する
      2. `workflow/common_workflow.md`に沿って処理を実施する
      3. ユーザーに処理内容を報告する

    information: |
      インタビュー関連タスクの実行ワークフロー：
      `workflow/common_workflow.md`処理完了後に実際にタスクを行う際のワークフローです
    timing: |
      1. `workflow/common_workflow.md`処理完了後にユーザーの返信を確認次第実施
    actions:
      1. `workflow/common_workflow.md`処理完了後にユーザーに使用するWFを確認する
      2. 指定がない場合は`standard_workflow.md`に沿って処理を実施する
      3. 処理完了後、ユーザーに処理内容を報告する

## 開発環境

- Node.js v20.12.2
- npm 10.5.0
- pnpm 9.15.4

## メンテナンス

各セクションのドキュメントは定期的に更新され、最新のプロセスとベストプラクティスを反映しています。更新や改善の提案は、issueまたはプルリクエストを通じて行ってください。

最終更新日: 2025/1/18
