# YouTube Audio Extractor

このツールは、指定されたYouTubeの動画から音声を抽出し、MP3形式に変換するPythonスクリプトです。  
また、動画のサムネイルを取得して、生成されたMP3ファイルに埋め込む機能も備えています。

---

## 特徴

- **音声の抽出**: 指定したYouTubeのURLから最適な音声ストリーム（bestaudio）をダウンロードします。  
- **MP3変換**: FFmpegを用いて、ダウンロードした音声をMP3形式に変換します。  
- **サムネイル埋め込み**: 動画のサムネイルを自動的にダウンロードし、変換後のMP3ファイルに埋め込みます。  
- **固定出力先**: 本スクリプトと同階層の `output` フォルダへ必ず出力します。  
  ユーザが `--filename` オプションでディレクトリ付きのパスを指定しても、ファイル名のbasenameのみが利用され、出力先は固定されます。

---

## 依存ライブラリ

- Python 3.x  
- [yt-dlp](https://github.com/yt-dlp/yt-dlp)  
- [FFmpeg](https://ffmpeg.org/)  

※ FFmpegがコマンドラインから実行可能な状態になっていることを確認してください。

---

## インストール手順

1. **Pythonのインストール**: Python 3.x をインストールします。

2. **必要なライブラリのインストール**:  
   ターミナルまたはコマンドプロンプトで以下のコマンドを実行してください。

   ```bash
   pip install yt-dlp
   ```

3. **FFmpegのインストール**:  
   各OSに合わせた方法でFFmpegをインストールし、パスを正しく設定してください。

---

## 使い方

1. **ファイル配置**:  
   このリポジトリ内にある `youtube_audio_extractor.py` と同階層に `output` フォルダが自動生成され、変換後の音声ファイルが保存されます。

2. **実行方法**:  
   ターミナルまたはコマンドプロンプトから、以下のコマンドを実行してください。

   ```bash
   python youtube_audio_extractor.py "https://www.youtube.com/watch?v=OblT91aXQ5c"
   ```

   ※ 出力ファイル名のテンプレートを変更する場合は、`--filename` オプションを利用してください。

   例:
   ```bash
   python youtube_audio_extractor.py "https://www.youtube.com/watch?v=OblT91aXQ5c" --filename "%(title)s_custom.%(ext)s"
   ```

   ※ ユーザが `--filename` でパスを含む名前を指定しても、必ずファイル名のbasenameのみが抽出され、出力先はこのスクリプトと同階層の `output` フォルダに固定されます。

---

## トラブルシューティング

- **FFmpegに関するエラー**:  
  FFmpegが正しくインストールされていない場合、またはパス設定が不十分な場合にエラーが発生することがあります。  
  FFmpegのインストールと環境変数の設定を確認してください。

- **yt-dlpに関するエラー**:  
  ネットワーク接続の問題や、指定したYouTubeのURLに誤りがある場合は、ダウンロード時にエラーが発生することがあります。  
  URLの正当性やネットワーク接続を確認してください。

---

## ライセンス

このツールは個人利用向けに提供されています。利用に際しては自己責任でお願いします。

---

## 連絡先およびサポート

ご不明点や改善提案等があれば、該当プロジェクトのIssueにてご報告ください。

---

以上