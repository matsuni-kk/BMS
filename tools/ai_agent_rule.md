# toolsのai_agent_rule.md

# システムプロンプト

## 共通ルール
- 日本語で応対
- 「D:\BMS\tools」直下にフォルダを作るときは必ずai_agent_ruleファイルを「D:\BMS\ai_agent_rule_format.md」をフォーマットにして作成
- 依頼するほとんどのタスクはコーディングとは関係ないことを考慮
- powershellでは「&&」を使用しない
- 絶対に生成時に省略行為は行わない
- すべてのタスク実行時にlog/ai_agent_ruleに従って作業ログを記録する

## テスト駆動処理
- 必ずタスクはテストドリブンで処理を行う
- タスクに合わせた詳細なテスト項目を事前に作成
- テスト用に別途ファイルを作成
- テスト粒度は細かく設定し、クリアするまで自動で反復

## ワークフロー

重要：必ず各ディレクトリのai_agent_ruleを参照し、ワークフローを把握すること:

workflow:
  tools: |
    toolsディレクトリは、AIを活用した各種ツールを管理するための場所です。
    ここでは、以下のツールを体系的に管理します：
    - ファイル分割ツール（file_splitter）
    - グラフ生成ツール（graph_maker）
    - Markdownファイル生成ツール（markitdown）
    - URL解析・MD変換ツール（url_md）
    - ワードクラウド生成ツール（wordcloud）
  timing: |
    toolsでの作業を開始する際には、以下の手順で進めてください：
    
    1. 作業の種類を特定し、適切なサブディレクトリを選択します：
       - ファイル分割ツール → file_splitter
       - グラフ生成 → graph_maker
       - Markdown生成 → markitdown
       - URL解析・MD変換 → url_md
       - ワードクラウド生成 → wordcloud
    
    2. 選択したサブディレクトリのai_agent_ruleを確認します：
       - ディレクトリ固有のルールとガイドラインを理解
       - 必要なテンプレートの場所を確認
       - 作業フローの把握
       - 注意事項の確認
    
    3. 定められたディレクトリ構造に従って作業を開始します：
       - 必要なフォルダの作成（output/等）
       - 依存パッケージの確認（packages/）
       - ファイルの命名規則の遵守
       - フォルダ階層の維持
    
    4. 作業ログを適切に記録します：
       - タスク開始時の記録
       - 進捗状況の更新
       - 問題点や課題の記録
       - 完了時の記録
    
    5. 必要に応じてテストを実施します：
       - テストケースの作成
       - テストの実行
       - 結果の記録
       - 改善点の特定と修正

  file_splitter:
    information: |
      ファイル分割ツールを管理するためのディレクトリです。
      ここでは、ファイル分割ツールの開発、テスト、メンテナンスに関する情報を体系的に管理します。
    timing: |
      1. ツール開発フェーズ：
         - ツールの仕様定義
         - ソースコードの作成（file_splitter.py）
         - README.mdの作成
         - テストコードの作成（test_file_splitter.py）
      
      2. テストフェーズ：
         - 単体テストの作成
         - 境界値テストの作成
         - エラーケーステストの作成
         - テストの実行と結果の検証
      
      3. セキュリティレビューフェーズ：
         - 入力値のバリデーション
         - パス操作の安全性確認
         - 実行権限の管理
      
      4. メンテナンスフェーズ：
         - コードの可読性の維持
         - バグ修正と機能改善
         - 問題発生時のログ記録
    directory: tools/file_splitter/

  graph_maker:
    information: |
      グラフ生成ツールを管理するためのディレクトリです。
      データの可視化とグラフ作成機能を提供します。
    timing: |
      1. 開発フェーズ：
         - グラフ生成機能の実装（graph_maker.py）
         - 必要なパッケージの定義（requirements.txt）
         - テストデータの準備（test_data/）
      
      2. テストフェーズ：
         - データ入力テスト
         - グラフ生成テスト
         - 出力ファイル検証
      
      3. 運用フェーズ：
         - グラフ生成パラメータの調整
         - 出力品質の確認
         - エラー処理の管理
    directory: tools/graph_maker/

  markitdown:
    information: |
      Markdownファイル生成ツールを管理するためのディレクトリです。
      テキストデータのMarkdown形式への変換を行います。
    timing: |
      1. 開発フェーズ：
         - 変換機能の実装（markitdown.py）
         - テストコードの作成（test_markitdown.py）
         - ドキュメント作成（README.md）
      
      2. テストフェーズ：
         - 変換処理のテスト
         - 出力フォーマットの確認
         - エラーケースの検証
      
      3. 運用フェーズ：
         - 変換ルールの管理
         - 出力ファイルの検証
         - ログ記録と監視
    directory: tools/markitdown/

  url_md:
    information: |
      URL解析・MD変換ツールを管理するためのディレクトリです。
      Webページの内容をMarkdown形式に変換します。
    timing: |
      1. 開発フェーズ：
         - URL解析機能の実装（url_md.py）
         - 変換ルールの定義
         - ドキュメント作成（README.md）
      
      2. テストフェーズ：
         - URL取得テスト
         - コンテンツ解析テスト
         - Markdown変換テスト
      
      3. 運用フェーズ：
         - 解析ルールの更新
         - 出力品質の確認
         - エラーハンドリング
    directory: tools/url_md/

  wordcloud:
    information: |
      ワードクラウド生成ツールを管理するためのディレクトリです。
      テキストデータの視覚化を行います。
    timing: |
      1. 開発フェーズ：
         - 生成機能の実装（generate_wordcloud.py）
         - 実行スクリプトの作成（run.py）
         - ドキュメント作成（README.md）
      
      2. テストフェーズ：
         - データ処理テスト
         - 画像生成テスト
         - 出力品質の確認
      
      3. 運用フェーズ：
         - パラメータ調整
         - サンプルデータの管理
         - 出力ファイルの検証
    directory: tools/wordcloud/