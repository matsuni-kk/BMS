# アプリケーション仕様書ディレクトリ

このディレクトリは、ビジネスマネジメントシステム（BMS）のアプリケーション技術仕様を管理するためのものです。

## バージョン情報
- ドキュメントバージョン: 1.0.0
- 最終更新日: 2025/1/16

## 作業記録について
作業を行う際は、必ずtasks/business_tasks/YYYYMMDD/のディレクトリに作業内容を記録してください。
これにより、作業の進捗状況や履歴を適切に管理することができます。

作業記録には以下の情報を必ず含めてください：
- tasks/business_tasks/YYYYMMDD/task_name/task_detail.mdに記録
- 作業日時
- 作業者名
- 作業内容の詳細
- 変更影響範囲
- テスト実施結果
- レビュー担当者

※YYYYMMDDは作業日（例：20250117）、task_nameは作業内容を表す名称

## ディレクトリ構造

### api_specifications/
- `dify_chat_api_specification.md` - Dify Chat APIの詳細インターフェース仕様
  - バージョン管理情報
  - API エンドポイント詳細
  - セキュリティ要件
  - パフォーマンス基準

## 仕様書の更新ガイドライン

### 1. バージョン管理
#### バージョン番号体系
- メジャーバージョン: 互換性のない変更
- マイナーバージョン: 後方互換性のある機能追加
- パッチバージョン: バグ修正

#### 更新履歴要件
- 変更日時
- 変更者
- 変更内容の詳細な記述
- 変更理由
- 影響を受けるコンポーネント
- レビュー担当者
- 承認者

### 2. API仕様のフォーマット
#### 必須記載事項
- OpenAPI (Swagger) 3.0以上の形式で記述
- 各エンドポイントの詳細な説明
  - リクエストパラメータ
  - レスポンス形式
  - エラーケース
  - 認証要件
- データモデルの定義
- セキュリティ要件
- レート制限
- パフォーマンス要件

### 3. レビュープロセス
#### レビュー実施手順
1. 事前レビュー
   - 技術的整合性の確認
   - セキュリティ要件の確認
   - パフォーマンス要件の確認

2. 本レビュー
   - 機能要件の確認
   - インターフェース設計の確認
   - エラーハンドリングの確認

3. 最終承認
   - 技術責任者による承認
   - セキュリティ責任者による承認

#### レビュー項目
- 技術的な影響範囲の分析
- セキュリティリスクの評価
- パフォーマンスへの影響
- 後方互換性の確認
- ドキュメントの完全性

### 4. セキュリティ要件
- 認証・認可方式の詳細
- データ暗号化要件
- アクセス制御ポリシー
- 監査ログ要件
- インシデント対応手順

### 5. 品質管理基準
- コード品質メトリクス
- パフォーマンス基準
- セキュリティ基準
- ドキュメント品質基準
- テスト網羅率要件

## メンテナンス

仕様書は以下のスケジュールで定期的にレビュー・更新されます：

### 定期レビュー
- 週次レビュー: 小規模な更新と修正
- 月次レビュー: 機能追加と改善
- 四半期レビュー: 大規模な変更と最適化

### レビュー観点
1. 新機能の追加
   - 機能要件の妥当性
   - 技術的な実現可能性
   - 既存機能との整合性

2. インターフェースの変更
   - 後方互換性の確保
   - マイグレーション手順
   - 影響範囲の評価

3. セキュリティ要件の更新
   - 脆弱性評価
   - セキュリティパッチ適用
   - コンプライアンス要件

4. パフォーマンス要件の見直し
   - 負荷テスト結果
   - スケーラビリティ要件
   - リソース使用効率

### 品質指標
- ドキュメント完全性: 95%以上
- API仕様網羅率: 100%
- セキュリティ基準適合率: 100%
- パフォーマンス基準達成率: 98%以上

## ログ記載ルール

### 1. タスクの記録
- 目的と目標を明確に記述
- 期待される成果物を具体的に記載
- 必要なリソースや参照すべき文書を列挙

### 2. 進捗管理
- 日々の進捗を記録
- 発生した問題点とその解決策
- 次のアクションアイテム

### 3. 完了基準
- タスクの完了条件を明確に定義
- テスト項目とその結果
- レビュー要件

### 4. ログの保管
- BMS\log配下の日付フォルダ（YYYYMMDD）内にtask_description.mdを作成
- タスクの詳細な説明と実行ログを記録
- 定期的に進捗状況を更新
- すべてのタスクログはBMS\logディレクトリに集約して管理